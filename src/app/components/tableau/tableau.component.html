<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau</title>
</head>
<body>
    <header>
      <app-navbar></app-navbar>
    </header>
    <main>
      <div class="card" style="padding: 30px;">
        <form #registerForm="ngForm" (ngSubmit)="register(registerForm)">
          <div class="user-details">
            <div class="input-box">
              <span class="details">Nom :</span>
              <input type="text" placeholder="Entrer votre nom" #nom (ngModel)="nom" name="nom" id="nom" >
            </div>
            <div class="input-box">
              <span class="details">Prénom :</span>
              <input type="text" placeholder="Entrer votre prénom" #prenom (ngModel)="prenom" name="prenom" id="prenom">
            </div>
            <div class="input-box">
              <span class="details">Email :</span>
              <input type="email" placeholder="Entrer votre email" #email (ngModel)="email" name="email" id="email">
            </div>
            <div class="input-box">
              <span class="details">Numéro apogée :</span>
              <input type="number" placeholder="Entrer votre numéro apogée" #num (ngModel)="num" name="num" id="num">
            </div>
            <div class="input-box">
              <span class="details">Mot de passe :</span>
              <input type="password" placeholder="Entrer votre mot de passe" #motdepasse (ngModel)="motdepasse" name="motdepasse" id="motdepasse">
            </div>
            <div class="input-box">
              <span class="details">Confirmer mot de passe :</span>
              <input type="password" placeholder="Confirmer votre mot de passe" #cfmotpasse (ngModel)="cfmotpasse" name="cfmotpasse" id="cfmotpasse">
            </div>
          </div>
          <div class="button" >
            <input type="submit"  value="Ajouter">
          </div>
        </form>
      </div>
        <div class="mt-5">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th>Nom</th>
                  <th>Prenom</th>
                  <th>Numéro Apogée</th>
                  <th>Email</th>
                  <th>Mot de passe</th>
                  <th>Confirmer mot de passe</th>
                  <th>Modifier</th>
                  <th>Supprimer</th>
                  
                </tr>
              </thead>
              <tbody class="tbody" >
                <tr *ngFor="let student of studentDetails">
                  <td>{{student.nom}}</td>
                  <td>{{student.prenom}}</td>
                  <td>{{student.num}}</td>
                  <td>{{student.email}}</td>
                  <td>{{student.motdepasse}}</td>
                  <td>{{student.cfmotpasse}}</td>
                  <td><button mat-raised-button type="button" color="primary" data-toggle="modal" data-target="#exampleModal"(click)="edit(student)">Modifier</button></td>
                  <td><button mat-raised-button type="button" color="warn" (click)="deleteStudent(student)">Supprimer</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Mise à jour d'un etudiant</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form #updateForm= "ngForm" (ngSubmit)="updateStudent()">
                  <div class="form-group">
                    <label for="nom">Nom :</label>
                    <input type="text" disabled #nom (ngModel)="studentToUpdate.nom" name="nom" id="nom"
                      class="form-control" placeholder="Entrer votre Nom">
                  </div>
                  <div class="form-group">
                    <label for="prenom">Prenom :</label>
                    <input type="text" #prenom (ngModel)="studentToUpdate.prenom" name="prenom" id="name" class="form-control"
                      placeholder="Entrer votre Prenom">
                  </div>
                  <div class="form-group">
                    <label for="num">Numéro Apogée :</label>
                    <input type="number" #num (ngModel)="studentToUpdate.num" name="num" id="num" class="form-control"
                      placeholder="Entrer votre Numéro Apogée ">
                  </div>
                  <div class="form-group">
                    <label for="email">Email :</label>
                    <input type="text" #email (ngModel)="studentToUpdate.email" name="email" id="email"
                      class="form-control" placeholder="Entrer votre Email">
                  </div>
                  <div class="form-group">
                    <label for="motdepasse">Mot de passe :</label>
                    <input type="password" #motdepasse (ngModel)="studentToUpdate.motdepasse" name="motdepasse" id="motdepasse"
                      class="form-control" placeholder="Entrer votre Mot de passe">
                  </div>
                  <div class="form-group">
                    <label for="cfmotpasse">Confirmer mot de passe :</label>
                    <input type="password" #cfmotpasse (ngModel)="studentToUpdate.cfmotpasse" name="cfmotpasse" id="cfmotpasse"
                      class="form-control" placeholder="Confirmer votre Mot de passe">
                  </div>
                  <div class="form-group">
                    <input type="submit" value="Modifier" class="btn btn-primary w-100">
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        
    </main>
    
</body>
</html>
